--- cmake/cmake-modules/CommonSetup.cmake
+++ cmake/cmake-modules/CommonSetup.cmake
@@ -52,19 +56,42 @@ macro(CommonSetup)
     IF(UNIX)
         set(RPC_LIB_DEFINES "-D MSGPACK_PP_VARIADICS_MSVC=0")
         set(BUILD_TYPE "linux")
-        if (APPLE)
-            set(CMAKE_CXX_STANDARD 17)
-            set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra -Wstrict-aliasing -D__CLANG__")
+
+        if ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "AppleClang")
+            #TODO: need to check why below is needed
+            set(CMAKE_CXX_STANDARD 14)
+            set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -D__CLANG__")
         else ()
+            # other flags used in Unreal: -funwind-tables  -fdiagnostics-format=msvc -fno-inline  -Werror -fno-omit-frame-pointer  -fstack-protector -O2
+            # TODO: add back -Wunused-parameter -Wno-documentation after rpclib can be compiled
             set(CMAKE_CXX_FLAGS "\
-                -std=c++17 -ggdb -Wall -Wextra \
-                -Wno-variadic-macros -Wno-parentheses -Wno-unused-function -Wno-unused \
+                -std=c++14 -ggdb -Wall -Wextra -Wstrict-aliasing -Wunreachable-code -Wcast-qual -Wctor-dtor-privacy \
+                -Wdisabled-optimization -Wformat=2 -Winit-self -Wmissing-include-dirs -Wswitch-default \
+                -Wold-style-cast -Woverloaded-virtual -Wredundant-decls -Wshadow -Wstrict-overflow=5 -Wswitch-default -Wundef \
+                -Wno-variadic-macros -Wno-parentheses -Wno-unused-function -Wno-unused -Wno-documentation -fdiagnostics-show-option \
                 -pthread \
                 ${RPC_LIB_DEFINES} ${CMAKE_CXX_FLAGS}")
 
             if (${CMAKE_CXX_COMPILER_ID} MATCHES "Clang")
-                set(CMAKE_CXX_FLAGS "-stdlib=libc++ -Wno-documentation ${CMAKE_CXX_FLAGS}")
-                set(CXX_EXP_LIB "-lc++fs -ferror-limit=10")
+                # make sure to match the compiler flags with which the Unreal
+                # Engine is built with
+                set(CMAKE_CXX_FLAGS "\
+                    -nostdinc++ -ferror-limit=10 -isystem ${LIBCXX_INC_PATH} \
+                    -D__CLANG__ ${CMAKE_CXX_FLAGS}")
+
+                # removed -lsupc++ from below (Git issue # 678)
+                set(CMAKE_EXE_LINKER_FLAGS "\
+                    ${CMAKE_EXE_LINKER_FLAGS} -stdlib=libc++ -lc++ -lc++abi -lm -lc \
+                    -L ${LIBCXX_LIB_PATH} -rpath ${LIBCXX_LIB_PATH}")
+
+                #do not use experimental as it might potentially cause ABI issues
+                #set(CXX_EXP_LIB "-lc++experimental")
+
+                if("${BUILD_TYPE}" STREQUAL "debug")
+                    # set same options that Unreal sets in debug builds
+                    set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -funwind-tables -fdiagnostics-format=msvc -fno-inline -fno-omit-frame-pointer -fstack-protector")
+                endif()
+
             else()
                 set(CXX_EXP_LIB "-lstdc++fs -fmax-errors=10 -Wnoexcept -Wstrict-null-sentinel")
             endif ()
